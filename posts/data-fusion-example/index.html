<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/basic.css"> <link rel=icon  href="/assets/favicon.png"> <title> A data-fusion example - Huijzer.xyz </title> <meta property="og:title" content="A data-fusion example" /> <meta property="og:type" content=article  /> <meta name="twitter:title" content="A data-fusion example" /> <header> <div class=blog-name ><a href="/">HUIJZER.XYZ</a></div> <nav> <ul> <li><a href="/about/">About</a> <li><a href="/posts/">Blog</a> <li><a type="application/rss+xml" href="https://huijzer.xyz/feed.xml"> <img class=rss-icon  src="/assets/feed.svg"> </a> </ul> </nav> </header> <div class=franklin-content > <h1 class=page-title > A data-fusion example </h1> <span class=page-date > 2020-11-02 </span> </div> <div class=franklin-content > <p>In the blog post on <a href="/posts/correlations">correlations</a>, I ended with the well-known mantra: &quot;correlation does not imply causation&quot;. Most of empirical science has been focussing on the correlations, because determining causation is hard. However, <span class=bibref ><a href="#pearl2018why">Pearl & Mackenzie (2006)</a></span> urges scientists to search for mechanisms, because it &quot;is critical for science, as well as to everyday life, because different mechanisms call for different actions when circumstances change&quot;. For example, we know that a lack of Vitamin C causes us to get scurvy, or not. We can depict this as Vitamin C <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.36687em;vertical-align:0em;"></span><span class=mrel >→</span></span></span></span> scurvy. Knowing this is very important, because without it we might think that bananas can cure scurvy <span class=bibref >(<a href="#pearl2018why">Pearl & Mackenzie (2006)</a>)</span> and send a trade ship on its way with bananas instead of oranges. Alternatively, we could have found that ships with strawberries don&#39;t get scurvy &#40;strawberries contain Vitamin C&#41; and conclude that all red fruits can cure scurvy.</p> <p>So, it is important to know the exact cause of things to make good decisions. One of the easiest ways to determine cause and effect is via doing an intervention, denoted by the <em>do</em>-operator <span class=bibref >(<a href="#pearl2009">Pearl (2009)</a>)</span>. Looking back on the scurvy example, it can be rewritten as follows: let Vitamin C be denoted by <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> &#40;the cause&#41; and scurvy be denoted by <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span> &#40;the effect&#41;. Then, we test whether scurvy is caused by a lack of Vitamin C by figuring out <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy=false >(</mo><mi>Y</mi><mi mathvariant=normal >∣</mi><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>X</mi><mo stretchy=false >)</mo><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">P(Y | do(X))</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class=mord >∣</span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class=mclose >)</span><span class=mclose >)</span></span></span></span>. This <em>do</em>-operator means that you would do an experiment where you change <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> and only <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> and then measure the effect on <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>. The &quot;and only&quot; part is important and can be obtained by doing a randomized controlled trial. The idea of such a trial is to take two completely random subsets of your sample. Then, for you subset you change <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> and for the other subset you do not change <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>. Apart from <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>, you don&#39;t try to change anything, so in medical settings the doctors are not even allowed who gets the medication since that could affect <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>. &#40;See the story of <a href="https://simple.wikipedia.org/wiki/Clever_Hans">Clever Hans</a> for an example where observers affect the outcome by accident.&#41; If done correctly, a randomized trial removes the incoming causal arrows. For example, without using randomization, it could be that the patients who get the medicin are actually cured by swimming in the sea <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span></span></span></span>. We can depict this in a causal graph as</p> </div> <div class=tikz > <img src="/assets/posts/data-fusion-example/code/output/confounder.svg" style="width:150px" /> </div> <div class=franklin-content > <p>&#40;Thanks to <span class=bibref ><a href="#kumor2020">Kumor (2018)</a></span> for code examples of these graphs.&#41; If the randomization is representative of the whole population and executed correctly, then we can say that the graph changed to</p> </div> <div class=tikz > <img src="/assets/posts/data-fusion-example/code/output/controlled.svg" style="width:150px" /> </div> <div class=franklin-content > <p>which assumes that the two subsets are not fundamentally different. Unfortunately, it is often not possible to apply a randomized trial since it could be too expensive, too time consuming or unethical. For instance, it is a bad plan to to split a group in half and force one half of the group to smoke while tracking the group for 40 years to see whether smoking causes cancer. Luckily, solutions exist to determine causation from observations alone <span class=bibref >(<a href="#bollen2013">Bollen & Pearl (2013)</a>)</span>. Even better, <span class=bibref ><a href="#bareinboim2016">Bareinboim & Pearl (2016)</a></span> summarizes how data from observational studies can be combined with randomized trials to find cause and effect; this can be useful to learn a causal effect about one population and apply it to another population. This problem is similar to meta-analyses. However, meta-analyses typically &quot;&#39;&#91;average&#93; out&#39; differences &#40;e.g., using inverse-variance weighting&#41;, which, in general, tends to blur, rather than exploit design distinctions among the available studies&quot; <span class=bibref >(<a href="#bareinboim2016">Bareinboim & Pearl (2016)</a>)</span>. For a longer discussion about the lack of effectiveness of meta-analyses, see <span class=bibref ><a href="#vrieze2018">de Vrieze (2018)</a></span>.</p> <p>In this blog post, my aim is to look at some examples of combining observational and randomized controlled trail data in an attempt to figure out how and when it can be applied.</p> <h2 id=do-calculus ><a href="#do-calculus" class=header-anchor >Do-Calculus</a></h2> <p>Thanks to the <em>do</em>-calculus presented by <span class=bibref >(<a href="#pearl2009">Pearl (2009)</a>)</span>, we can rewrite our graph without thinking. &#40;By that, I mean that the calculus allows you to easily verify equivalences like <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>+</mo><mi>b</mi><mo>=</mo><mi>b</mi><mo>+</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">a + b = b + a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">b</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> for any <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>.&#41; For arbitrary disjoint sets of nodes <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo separator=true >,</mo><mi>Y</mi><mo separator=true >,</mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">X, Y, Z</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> in a causal DAG <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span>, with <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mover accent=true ><mi>X</mi><mo stretchy=true >‾</mo></mover></msub></mrow><annotation encoding="application/x-tex">G_{\overline{X}}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.988361em;vertical-align:-0.30503100000000005em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3448em;"><span style="top:-2.694969em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord overline mtight"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.9283300000000001em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.83033em;"><span class=pstrut  style="height:3em;"></span><span class="overline-line mtight" style="border-bottom-width:0.049em;"></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.30503100000000005em;"><span></span></span></span></span></span></span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><munder accentunder=true ><mi>X</mi><mo stretchy=true >‾</mo></munder></msub></mrow><annotation encoding="application/x-tex">G_{\underline{X}}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.0048300000000001em;vertical-align:-0.32150000000000006em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3283309999999999em;"><span style="top:-2.85em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord underline mtight"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.6833299999999999em;"><span style="top:-2.804em;"><span class=pstrut  style="height:3em;"></span><span class="underline-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2450000000000001em;"><span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.32150000000000006em;"><span></span></span></span></span></span></span></span></span></span> denoting the graph obtained by, respectively, deleting all arrows pointing to and emerging from nodes in <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span>, we have <span class=bibref >(<a href="#bareinboim2016">Bareinboim & Pearl (2016)</a>)</span></p> <p><em>Rule 1</em> &#40;insertion/deletion of observations&#41;:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>P</mi><mo stretchy=false >(</mo><mi>y</mi><mi mathvariant=normal >∣</mi><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>z</mi><mo separator=true >,</mo><mi>w</mi><mo stretchy=false >)</mo><mo>=</mo><mi>P</mi><mo stretchy=false >(</mo><mi>y</mi><mi mathvariant=normal >∣</mi><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>w</mi><mo stretchy=false >)</mo><mtext> </mtext><mtext>if</mtext><mtext> </mtext><mo stretchy=false >(</mo><mi>Y</mi><mo>⊥</mo><mi>Z</mi><mi mathvariant=normal >∣</mi><mi>X</mi><mo separator=true >,</mo><mi>W</mi><msub><mo stretchy=false >)</mo><msub><mi>G</mi><mover accent=true ><mi>X</mi><mo stretchy=true >‾</mo></mover></msub></msub><mi mathvariant=normal >.</mi></mrow><annotation encoding="application/x-tex"> P(y|do(x),z,w) = P(y|do(x),w) \: \text{if} \: (Y \perp Z|X, W)_{G_{\overline{X}}}. </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mord >∣</span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mord >∣</span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord text"><span class=mord >if</span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >⊥</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.122805em;vertical-align:-0.37280500000000005em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class=mord >∣</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.85em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3448em;"><span style="top:-2.681707142857143em;margin-left:0em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord overline mtight"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.9283300000000001em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.83033em;"><span class=pstrut  style="height:3em;"></span><span class="overline-line mtight" style="border-bottom-width:0.049em;"></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.31829285714285727em;"><span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.37280500000000005em;"><span></span></span></span></span></span></span><span class=mord >.</span></span></span></span></span> <p><em>Rule 2</em> &#40;action/observation exchange&#41;:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>P</mi><mo stretchy=false >(</mo><mi>y</mi><mi mathvariant=normal >∣</mi><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>z</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>w</mi><mo stretchy=false >)</mo><mo>=</mo><mi>P</mi><mo stretchy=false >(</mo><mi>y</mi><mi mathvariant=normal >∣</mi><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>z</mi><mo separator=true >,</mo><mi>w</mi><mo stretchy=false >)</mo><mtext> </mtext><mtext>if</mtext><mtext> </mtext><mo stretchy=false >(</mo><mi>Y</mi><mo>⊥</mo><mi>Z</mi><mi mathvariant=normal >∣</mi><mi>X</mi><mo separator=true >,</mo><mi>W</mi><msub><mo stretchy=false >)</mo><msub><mi>G</mi><mrow><mover accent=true ><mi>X</mi><mo stretchy=true >‾</mo></mover><munder accentunder=true ><mi>Z</mi><mo stretchy=true >‾</mo></munder></mrow></msub></msub><mi mathvariant=normal >.</mi></mrow><annotation encoding="application/x-tex"> P(y|do(x), do(z), w) = P(y|do(x), z, w) \: \text{if} \: (Y \perp Z|X, W)_{G_{\overline{X} \underline{Z}}}. </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mord >∣</span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mord >∣</span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord text"><span class=mord >if</span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >⊥</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.245305em;vertical-align:-0.4953050000000001em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class=mord >∣</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.85em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3448em;"><span style="top:-2.681707142857143em;margin-left:0em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord overline mtight"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.9283300000000001em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.83033em;"><span class=pstrut  style="height:3em;"></span><span class="overline-line mtight" style="border-bottom-width:0.049em;"></span></span></span></span></span></span><span class="mord underline mtight"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.6833299999999999em;"><span style="top:-2.804em;"><span class=pstrut  style="height:3em;"></span><span class="underline-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">Z</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2450000000000001em;"><span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.4932928571428573em;"><span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.4953050000000001em;"><span></span></span></span></span></span></span><span class=mord >.</span></span></span></span></span> <p><em>Rule 3</em> &#40;insertion/deletion of actions&#41;:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>P</mi><mo stretchy=false >(</mo><mi>y</mi><mi mathvariant=normal >∣</mi><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>z</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>w</mi><mo stretchy=false >)</mo><mo>=</mo><mi>P</mi><mo stretchy=false >(</mo><mi>y</mi><mi mathvariant=normal >∣</mi><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>w</mi><mo stretchy=false >)</mo><mtext> </mtext><mtext>if</mtext><mtext> </mtext><mo stretchy=false >(</mo><mi>Y</mi><mo>⊥</mo><mi>Z</mi><mi mathvariant=normal >∣</mi><mi>X</mi><mo separator=true >,</mo><mi>W</mi><msub><mo stretchy=false >)</mo><msub><mi>G</mi><mrow><mover accent=true ><mi>X</mi><mo stretchy=true >‾</mo></mover><mover accent=true ><msup><mi>Z</mi><mo>∗</mo></msup><mo stretchy=true >‾</mo></mover></mrow></msub></msub><mi mathvariant=normal >.</mi></mrow><annotation encoding="application/x-tex"> P(y|do(x), do(z), w) = P(y|do(x), w) \: \text{if} \: (Y \perp Z|X, W)_{G_{\overline{X} \overline{Z^*}}}. </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mord >∣</span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mord >∣</span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord text"><span class=mord >if</span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >⊥</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.16078em;vertical-align:-0.41078000000000003em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class=mord >∣</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.85em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3448em;"><span style="top:-2.6274571428571427em;margin-left:0em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord overline mtight"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.9283300000000001em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.83033em;"><span class=pstrut  style="height:3em;"></span><span class="overline-line mtight" style="border-bottom-width:0.049em;"></span></span></span></span></span></span><span class="mord overline mtight"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:1.00428em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">Z</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.7592800000000001em;"><span style="top:-2.794em;margin-right:0.1em;"><span class=pstrut  style="height:2.5em;"></span><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span><span style="top:-3.90628em;"><span class=pstrut  style="height:3em;"></span><span class="overline-line mtight" style="border-bottom-width:0.049em;"></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3725428571428572em;"><span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.41078000000000003em;"><span></span></span></span></span></span></span><span class=mord >.</span></span></span></span></span> <h2 id=transportability ><a href="#transportability" class=header-anchor >Transportability</a></h2> <p>Scientific results are meant to be used across different populations. This, according to <span class=bibref ><a href="#pearl2014external">Pearl & Bareinboim (2014)</a></span>, is called <em>transportability</em>. Specifically, it is about transfering causal effects from experimental studies to observational studies. Here, I will mostly copy the example of <span class=bibref >(<a href="#bareinboim2016">Bareinboim & Pearl (2016)</a>)</span> and add some clarifications at the steps which I find unclear. Consider an experimental source <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span> and an observational target <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>π</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\pi^*</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.688696em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span> population. The variables are treatment <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>, outcome <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>, age <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span></span></span></span> and a set of unaccounted factors <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>.</p> </div> <div class=tikz > <img src="/assets/posts/data-fusion-example/code/output/first.svg" style="width:150px" /> </div> <div class=franklin-content > <p>The unaccounted factors create differences in age between <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>π</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\pi^*</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.688696em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>. These unaccounted factors are unknown, but it is known that they cause the differences in age between <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>π</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\pi^*</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.688696em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>; that is why <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> is denoted with a black box in the graph. Note that this means that the graph is an overlapping of the graph of the source and target population. Now, the query can be rewritten to <span class=bibref >(<a href="#bareinboim2016">Bareinboim & Pearl (2016)</a>)</span></p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mtable rowspacing=0.24999999999999992em  columnalign="right left" columnspacing=0em ><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mi>Q</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mo>=</mo><mspace width=0.8535826771653543em /></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mspace width=1.4226377952755906em /><mo stretchy=false >{</mo><mtext> </mtext><mrow><mtext> By definition of </mtext><mstyle scriptlevel=0  displaystyle=false ><mi>Q</mi></mstyle><mtext>. </mtext><mtext> </mtext></mrow><mo stretchy=false >}</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><munder><mo>∑</mo><mi>z</mi></munder><mi>P</mi><mo stretchy=false >(</mo><mi>y</mi><mi mathvariant=normal >∣</mi><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>S</mi><mo>=</mo><msup><mi>s</mi><mo>∗</mo></msup><mo separator=true >,</mo><mi>z</mi><mo stretchy=false >)</mo><mi>P</mi><mo stretchy=false >(</mo><mi>z</mi><mi mathvariant=normal >∣</mi><mi>S</mi><mo>=</mo><msup><mi>s</mi><mo>∗</mo></msup><mo separator=true >,</mo><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo stretchy=false >)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mo>=</mo><mspace width=0.8535826771653543em /></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mspace width=1.4226377952755906em /><mo stretchy=false >{</mo><mtext> </mtext><mrow><mtext>By </mtext><mtext mathvariant=italic >S</mtext><mtext>-admissibility. </mtext><mtext> </mtext></mrow><mo stretchy=false >}</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><munder><mo>∑</mo><mi>z</mi></munder><mi>P</mi><mo stretchy=false >(</mo><mi>y</mi><mi mathvariant=normal >∣</mi><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>z</mi><mo stretchy=false >)</mo><mi>P</mi><mo stretchy=false >(</mo><mi>z</mi><mi mathvariant=normal >∣</mi><mi>S</mi><mo>=</mo><msup><mi>s</mi><mo>∗</mo></msup><mo separator=true >,</mo><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo stretchy=false >)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mo>=</mo><mspace width=0.8535826771653543em /></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mspace width=1.4226377952755906em /><mo stretchy=false >{</mo><mtext> </mtext><mrow><mtext>By the 3rd rule of the </mtext><mtext mathvariant=italic >do</mtext><mtext>-calculus.</mtext></mrow><mtext> </mtext><mo stretchy=false >}</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><munder><mo>∑</mo><mi>z</mi></munder><mi>P</mi><mo stretchy=false >(</mo><mi>y</mi><mi mathvariant=normal >∣</mi><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>z</mi><mo stretchy=false >)</mo><mi>P</mi><mo stretchy=false >(</mo><mi>z</mi><mi mathvariant=normal >∣</mi><mi>S</mi><mo>=</mo><msup><mi>s</mi><mo>∗</mo></msup><mo stretchy=false >)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mo>=</mo><mspace width=0.8535826771653543em /></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mspace width=1.4226377952755906em /><mo stretchy=false >{</mo><mtext> </mtext><mrow><mtext>By definition of the </mtext><mtext mathvariant=italic >S</mtext><mtext>-node.</mtext></mrow><mtext> </mtext><mo stretchy=false >}</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><munder><mo>∑</mo><mi>z</mi></munder><mi>P</mi><mo stretchy=false >(</mo><mi>y</mi><mi mathvariant=normal >∣</mi><mi>d</mi><mi>o</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>z</mi><mo stretchy=false >)</mo><msup><mi>P</mi><mo>∗</mo></msup><mo stretchy=false >(</mo><mi>z</mi><mo stretchy=false >)</mo><mi mathvariant=normal >.</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex"> \begin{aligned} &amp; Q \\ = \hspace{3mm} &amp; \hspace{5mm} \{ \: \text{ By definition of $Q$. \: } \} \\ &amp; \sum_z P(y|do(x), S=s^*,z)P(z|S=s^*,do(x)) \\ = \hspace{3mm} &amp; \hspace{5mm} \{ \: \text{By \textit{S}-admissibility. \: } \} \\ &amp; \sum_z P(y|do(x), z)P(z|S=s^*,do(x)) \\ = \hspace{3mm} &amp; \hspace{5mm} \{ \: \text{By the 3rd rule of the \textit{do}-calculus.} \: \} \\ &amp; \sum_z P(y|do(x), z) P(z|S = s^*) \\ = \hspace{3mm} &amp; \hspace{5mm} \{ \: \text{By definition of the \textit{S}-node.} \: \} \\ &amp; \sum_z P(y|do(x), z) P^*(z). \end{aligned} </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:17.900040000000004em;vertical-align:-8.700020000000004em;"></span><span class=mord ><span class=mtable ><span class=col-align-r ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:9.20002em;"><span style="top:-11.410025000000001em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ></span></span><span style="top:-9.910025000000001em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mrel >=</span><span class=mspace  style="margin-right:0.8535826771653543em;"></span></span></span><span style="top:-8.20002em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ></span></span><span style="top:-5.810014999999998em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mrel >=</span><span class=mspace  style="margin-right:0.8535826771653543em;"></span></span></span><span style="top:-4.1000099999999975em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ></span></span><span style="top:-1.7100049999999967em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mrel >=</span><span class=mspace  style="margin-right:0.8535826771653543em;"></span></span></span><span style="top:4.440892098500626e-15em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ></span></span><span style="top:2.3900050000000044em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mrel >=</span><span class=mspace  style="margin-right:0.8535826771653543em;"></span></span></span><span style="top:4.100010000000003em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:8.700020000000004em;"><span></span></span></span></span></span><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:9.20002em;"><span style="top:-11.410025000000001em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mord ></span><span class="mord mathnormal">Q</span></span></span><span style="top:-9.910025000000001em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:1.4226377952755906em;"></span><span class=mopen >{</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord text"><span class=mord > By definition of </span><span class="mord mathnormal">Q</span><span class=mord >. </span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=mclose >}</span></span></span><span style="top:-8.20002em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class=pstrut  style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.0500049999999996em;"><span class=pstrut  style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.250005em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mord >∣</span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathnormal">s</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class=mclose >)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class=mord >∣</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathnormal">s</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mclose >)</span></span></span><span style="top:-5.810014999999998em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:1.4226377952755906em;"></span><span class=mopen >{</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord text"><span class=mord >By </span><span class="mord text"><span class="mord textit">S</span></span><span class=mord >-admissibility. </span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=mclose >}</span></span></span><span style="top:-4.1000099999999975em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class=pstrut  style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.0500049999999996em;"><span class=pstrut  style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.250005em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mord >∣</span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class=mclose >)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class=mord >∣</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathnormal">s</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mclose >)</span></span></span><span style="top:-1.7100049999999967em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:1.4226377952755906em;"></span><span class=mopen >{</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord text"><span class=mord >By the 3rd rule of the </span><span class="mord text"><span class="mord textit">do</span></span><span class=mord >-calculus.</span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mclose >}</span></span></span><span style="top:4.440892098500626e-15em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class=pstrut  style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.0500049999999996em;"><span class=pstrut  style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.250005em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mord >∣</span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class=mclose >)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class=mord >∣</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathnormal">s</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mclose >)</span></span></span><span style="top:2.3900050000000044em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:1.4226377952755906em;"></span><span class=mopen >{</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord text"><span class=mord >By definition of the </span><span class="mord text"><span class="mord textit">S</span></span><span class=mord >-node.</span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mclose >}</span></span></span><span style="top:4.100010000000003em;"><span class=pstrut  style="height:3.050005em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class=pstrut  style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.0500049999999996em;"><span class=pstrut  style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.250005em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mord >∣</span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class=mclose >)</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class=mclose >)</span><span class=mord >.</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:8.700020000000004em;"><span></span></span></span></span></span></span></span></span></span></span></span> <p>This is called a <em>transport formula</em>, because it explains &quot;how experimental findings in <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span> are transported over to <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mo>∗</mo></mrow><annotation encoding="application/x-tex">\pi*</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class=mord >∗</span></span></span></span>; the first factor is estimable from <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span> and the second one from <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>π</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\pi^*</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.688696em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>&quot; <span class=bibref >(<a href="#bareinboim2016">Bareinboim & Pearl (2016)</a>)</span>.</p> <h2 id=references ><a href="#references" class=header-anchor >References</a></h2> <p><a id=bareinboim2016  class=anchor ></a> Bareinboim &amp; Pearl. &#40;2016&#41;. Causal inference and the data-fusion problem. <a href="https://doi.org/10.1073/pnas.1510507113">https://doi.org/10.1073/pnas.1510507113</a>.</p> <p><a id=bollen2013  class=anchor ></a> Bollen &amp; Pearl. &#40;2013&#41;. Eight Myths About Causality and Structural Equation Models. <a href="https://doi.org/10.1007/978-94-007-6094-3_15">https://doi.org/10.1007/978-94-007-6094-3_15</a>.</p> <p><a id=kumor2020  class=anchor ></a> Kumor, D. &#40;2018&#41;. Causal Graphs in LaTeX. <a href="https://dkumor.com/posts/technical/2018/08/15/causal-tikz/">https://dkumor.com/posts/technical/2018/08/15/causal-tikz/</a>.</p> <p><a id=pearl2009  class=anchor ></a> Pearl, J. &#40;2009&#41;. Causality. Cambridge university press. <a href="https://doi.org/10.1017/CBO9780511803161">https://doi.org/10.1017/CBO9780511803161</a>.</p> <p><a id=pearl2014external  class=anchor ></a> Pearl &amp; Bareinboim. &#40;2014&#41;. External Validity: From Do-Calculus to Transportability Across Populations. Statistical Science. <a href="https://doi.org/10.1214/14-STS486">https://doi.org/10.1214/14-STS486</a>. <a id=pearl2018why  class=anchor ></a> Pearl, J., &amp; Mackenzie, D. &#40;2018&#41;. The book of why: the new science of cause and effect. Basic Books.</p> <p><a id=vrieze2018  class=anchor ></a> de Vrieze, J. &#40;2018, September 18&#41;. Meta-analyses were supposed to end scientific debates. Often, they only cause more controversy. Science Magazine. <a href="https://www.sciencemag.org/news/2018/09/meta-analyses-were-supposed-end-scientific-debates-often-they-only-cause-more">https://www.sciencemag.org/news/2018/09/meta-analyses-were-supposed-end-scientific-debates-often-they-only-cause-more</a>. Accessed on 2020-11-01.</p> <div class=page-foot > <div class=copyright > <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Rik Huijzer. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. Last update: 2021-06-18. </div> </div> </div> <script src="/libs/highlight/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: ' '});</script>